(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{320:function(t,e,a){"use strict";a.r(e);var s=a(10),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("PageHeader"),t._v(" "),e("h2",{attrs:{id:"enhancing-a-media-player"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enhancing-a-media-player"}},[t._v("#")]),t._v(" Enhancing a Media Player")]),t._v(" "),e("p",[t._v("The final phase of this project will deal with the seek bar and animations. The seek bar needs to update its appearance and the current time position as each track plays. We will also add the ability\nto click on the seek bar and jump to that position in the track. We will also add the ability to shuffle the playlist.")]),t._v(" "),e("p",[t._v("For this fourth phase you need to create a new branch called "),e("code",[t._v("seek")]),t._v(" based on the updated "),e("code",[t._v("main")]),t._v(" branch.")]),t._v(" "),e("p",[t._v("Make sure that you have merged the "),e("code",[t._v("tracks")]),t._v(" branch back into "),e("code",[t._v("main")]),t._v(" before creating the "),e("code",[t._v("seek")]),t._v(" branch.")]),t._v(" "),e("h3",{attrs:{id:"seek-bar-appearance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#seek-bar-appearance"}},[t._v("#")]),t._v(" Seek Bar Appearance")]),t._v(" "),e("p",[t._v("In phase 2 we updated the display of the current time in the footer each time the "),e("code",[t._v("timeupdate")]),t._v(" event fired. We will use the exact same event to update the seek bar.")]),t._v(" "),e("p",[t._v("When the "),e("code",[t._v("timeupdate")]),t._v(" event fires, we need to read the "),e("code",[t._v("currentTime")]),t._v(" property value and the "),e("code",[t._v("duration")]),t._v(" property value. Divide the "),e("code",[t._v("currentTime")]),t._v(" by the "),e("code",[t._v("duration")]),t._v(" to get a percentage complete for the\ntrack.")]),t._v(" "),e("p",[t._v("The seek bar is built from the following HTML.")]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("section")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("progress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("played"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("section")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("The "),e("code",[t._v(".progress")]),t._v(" part always fills the width of the screen, which can be expressed as "),e("code",[t._v("100vw")]),t._v(". The "),e("code",[t._v(".played")]),t._v(" part should be the same as the percentage that we calculated. Its width value would be\nsomething like "),e("code",[t._v("32.45vw")]),t._v(".")]),t._v(" "),e("p",[t._v("The only negative part about the display now is how jumpy it is when it changes. To fix this you can add a "),e("code",[t._v("transition")]),t._v(" for the "),e("code",[t._v("width")]),t._v(" property for the "),e("code",[t._v(".played")]),t._v(" div in your CSS.")]),t._v(" "),e("YouTube",{attrs:{title:"All About CSS Transitions",url:"https://www.youtube.com/embed/alxljWzQoY4"}}),t._v(" "),e("YouTube",{attrs:{title:"TransitionEnd and AnimationEnd Events",url:"https://www.youtube.com/embed/Xsl1xA1HWic"}}),t._v(" "),e("h3",{attrs:{id:"click-on-seek-bar-to-change-position"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#click-on-seek-bar-to-change-position"}},[t._v("#")]),t._v(" Click on Seek Bar to Change Position")]),t._v(" "),e("p",[t._v("We have already built the function that runs when the current time gets updated. That function updates the current time display and updates the width of the progress bar.")]),t._v(" "),e("p",[t._v("Now we need to add a "),e("code",[t._v("click")]),t._v(" listener to the "),e("code",[t._v(".progress")]),t._v(" section. A click event in JavaScript has a property called "),e("code",[t._v("x")]),t._v(" which gives you the x position of the click on that element. If you divide\n"),e("code",[t._v("ev.x")]),t._v(" by the "),e("code",[t._v("clientWidth")]),t._v(" value of the "),e("code",[t._v(".progress")]),t._v(" section, you will have a percentage value. Multiply that number by 100 and add "),e("code",[t._v("vw")]),t._v(" to the end of that value and you have the new value for the\n"),e("code",[t._v(".played")]),t._v(" div inside the "),e("code",[t._v(".progress")]),t._v(" section.")]),t._v(" "),e("p",[t._v("Once the width of the "),e("code",[t._v(".played")]),t._v(" bar has a new width ready to be applied, then we need to update the the audio to match that position too. The "),e("code",[t._v("currentTime")]),t._v(" property of "),e("code",[t._v("APP.audio")]),t._v(" can be used to\nchange, not just read the part of the audio track that is playing.")]),t._v(" "),e("p",[t._v("Use the same percentage value, before being multiplied by 100, and without the "),e("code",[t._v("vw")]),t._v(" part. Multiply "),e("code",[t._v("APP.audio.duration")]),t._v(" value by the percentage to get the new number for "),e("code",[t._v("APP.audio.currentTime")]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"shuffling-playlists"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shuffling-playlists"}},[t._v("#")]),t._v(" Shuffling Playlists")]),t._v(" "),e("p",[t._v("One feature that needs to work in this second phase is the users' ability to click the shuffle button and have the playlist be rebuilt with a shuffled media array.")]),t._v(" "),e("p",[t._v("Each time the user shuffles the playlist, any playing track should stop and the first track in the new playlist should automatically be selected, meaning that the "),e("code",[t._v("APP.currentTrack")]),t._v(" value gets set\nback to zero and the first item in the list gets visually set at the current track.")]),t._v(" "),e("p",[t._v("The imported utility script can be used to hold functions or functionality that you want to add to your page. Here is an example of some code for the utility script.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Adds the method to the Array prototype so no need to export")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("shuffle")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arr")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" other "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("other"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("other"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Example usage")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// let myArr = ['Mulder', 'Scully', 'Skinner'];")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// myArr.shuffle();")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// now myArr is shuffled.")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br")])]),e("p",[t._v("With this code imported into the HTML page, all Arrays now have a method called "),e("code",[t._v("shuffle")]),t._v(". You can call this method to randomly shuffle the contents of an array.")]),t._v(" "),e("h3",{attrs:{id:"animations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#animations"}},[t._v("#")]),t._v(" Animations")]),t._v(" "),e("p",[t._v("As part of your play function we can add a CSS class to the "),e("code",[t._v("<body>")]),t._v(" element. By doing this we can style any part of the interface differently when the audio plays.")]),t._v(" "),e("p",[t._v("If you normally have this as a CSS selector -"),e("code",[t._v("main p")]),t._v(", then that would be your default style. To do something different with those "),e("code",[t._v("<p>")]),t._v(" elements when the audio is playing we just add a CSS style -\n"),e("code",[t._v("body.playing main p")]),t._v(". This new style selector has a higher specificity and will override the default "),e("code",[t._v("main p")]),t._v(" styles.")]),t._v(" "),e("p",[t._v("In your media player you need to animate your title and animate the large image inside "),e("code",[t._v(".album_art__full")]),t._v(" as well as the background of "),e("code",[t._v(".album_art__full")]),t._v(".")]),t._v(" "),e("YouTube",{attrs:{title:"Understanding CSS Animations",url:"https://www.youtube.com/embed/mSUiUst60dY"}}),t._v(" "),e("h3",{attrs:{id:"demo-video"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo-video"}},[t._v("#")]),t._v(" Demo Video")]),t._v(" "),e("p",[t._v("Here is a demo video highlighting the features of phase 4.")]),t._v(" "),e("YouTube",{attrs:{title:"Phase 4 Demo",url:"https://www.youtube.com/embed/Y9e4nqyH4xY"}}),t._v(" "),e("h2",{attrs:{id:"submission"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#submission"}},[t._v("#")]),t._v(" Submission")]),t._v(" "),e("p",[t._v("Invite your professor - "),e("code",[t._v("prof3ssorSt3v3")]),t._v(" to be a collaborator on your private "),e("code",[t._v("media-player")]),t._v(" repo, if you haven't already done this.")]),t._v(" "),e("p",[t._v("Make sure that all your work was done on the "),e("code",[t._v("seek")]),t._v(" branch.")]),t._v(" "),e("p",[e("strong",[t._v("Merge")]),t._v(" the "),e("code",[t._v("seek")]),t._v(" branch into the "),e("code",[t._v("main")]),t._v(" branch, but "),e("strong",[t._v("do NOT")]),t._v(" delete the "),e("code",[t._v("seek")]),t._v(" branch after the merge. This will automatically update the Github Pages deployment which is still pointing to the\n"),e("code",[t._v("main")]),t._v(" branch.")]),t._v(" "),e("p",[t._v("Submit the URL of your private repo and the github pages link to the proper exercise in BS LMS. Submit BOTH URLs in BS LMS.")]),t._v(" "),e("p",[t._v("Due in Week 13.")]),t._v(" "),e("p",[t._v("See BS LMS for the due date and time.")])],1)}),[],!1,null,null,null);e.default=n.exports}}]);