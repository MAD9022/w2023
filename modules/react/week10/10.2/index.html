<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>10.2 Conditional Rendering, PropTypes | MAD9022</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Fullstack: Frontend Development Course">
    
    <link rel="preload" href="/w2023/assets/css/0.styles.33e990fb.css" as="style"><link rel="preload" href="/w2023/assets/js/app.49733bfc.js" as="script"><link rel="preload" href="/w2023/assets/js/2.e00fc094.js" as="script"><link rel="preload" href="/w2023/assets/js/25.85a09377.js" as="script"><link rel="preload" href="/w2023/assets/js/9.b21c66c5.js" as="script"><link rel="preload" href="/w2023/assets/js/11.92cefe25.js" as="script"><link rel="prefetch" href="/w2023/assets/js/10.41910312.js"><link rel="prefetch" href="/w2023/assets/js/12.b4bafa0d.js"><link rel="prefetch" href="/w2023/assets/js/13.ba803485.js"><link rel="prefetch" href="/w2023/assets/js/14.1e383464.js"><link rel="prefetch" href="/w2023/assets/js/15.bacbf527.js"><link rel="prefetch" href="/w2023/assets/js/16.e7714ee9.js"><link rel="prefetch" href="/w2023/assets/js/17.3aada0e0.js"><link rel="prefetch" href="/w2023/assets/js/18.96ead32f.js"><link rel="prefetch" href="/w2023/assets/js/19.4e5249bf.js"><link rel="prefetch" href="/w2023/assets/js/20.5dee1097.js"><link rel="prefetch" href="/w2023/assets/js/21.ec6718fa.js"><link rel="prefetch" href="/w2023/assets/js/22.fa6508dc.js"><link rel="prefetch" href="/w2023/assets/js/23.9a4c47c6.js"><link rel="prefetch" href="/w2023/assets/js/24.b2a84dff.js"><link rel="prefetch" href="/w2023/assets/js/26.f1eb484c.js"><link rel="prefetch" href="/w2023/assets/js/27.25c44fa0.js"><link rel="prefetch" href="/w2023/assets/js/28.51999317.js"><link rel="prefetch" href="/w2023/assets/js/29.65075bca.js"><link rel="prefetch" href="/w2023/assets/js/3.1ae5a99d.js"><link rel="prefetch" href="/w2023/assets/js/30.5d45979f.js"><link rel="prefetch" href="/w2023/assets/js/31.22b62fdb.js"><link rel="prefetch" href="/w2023/assets/js/32.bd051bb4.js"><link rel="prefetch" href="/w2023/assets/js/33.56eaee4e.js"><link rel="prefetch" href="/w2023/assets/js/34.62593793.js"><link rel="prefetch" href="/w2023/assets/js/35.4456d2ac.js"><link rel="prefetch" href="/w2023/assets/js/36.2f2d8a40.js"><link rel="prefetch" href="/w2023/assets/js/37.5e082827.js"><link rel="prefetch" href="/w2023/assets/js/38.71855794.js"><link rel="prefetch" href="/w2023/assets/js/39.485f42ce.js"><link rel="prefetch" href="/w2023/assets/js/4.64bbff17.js"><link rel="prefetch" href="/w2023/assets/js/40.8e5ddf6e.js"><link rel="prefetch" href="/w2023/assets/js/41.fea3541d.js"><link rel="prefetch" href="/w2023/assets/js/42.d3040fe8.js"><link rel="prefetch" href="/w2023/assets/js/43.0e1d1cc9.js"><link rel="prefetch" href="/w2023/assets/js/44.fbbee689.js"><link rel="prefetch" href="/w2023/assets/js/45.90d16594.js"><link rel="prefetch" href="/w2023/assets/js/46.fa7c6a52.js"><link rel="prefetch" href="/w2023/assets/js/47.3fb6e90a.js"><link rel="prefetch" href="/w2023/assets/js/48.2c7860fe.js"><link rel="prefetch" href="/w2023/assets/js/5.8ce5e2d0.js"><link rel="prefetch" href="/w2023/assets/js/6.a0bc34a0.js"><link rel="prefetch" href="/w2023/assets/js/7.0dc96026.js"><link rel="prefetch" href="/w2023/assets/js/8.c36795df.js">
    <link rel="stylesheet" href="/w2023/assets/css/0.styles.33e990fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/w2023/" class="home-link router-link-active"><!----> <span class="site-name">MAD9022</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/w2023/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/w2023/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/w2023/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/w2023/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/w2023/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/w2023/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hybrid</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web Components &amp; PWAs</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/w2023/modules/reading/" class="sidebar-link">Reading Week</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/w2023/modules/react/week9/9.1/" class="sidebar-link">9.1: React Concepts</a></li><li><a href="/w2023/modules/react/week9/9.2/" class="sidebar-link">9.2: React Setup</a></li><li><a href="/w2023/modules/react/week10/10.1/" class="sidebar-link">10.1: JSX &amp; Components</a></li><li><a href="/w2023/modules/react/week10/10.2/" aria-current="page" class="active sidebar-link">10.2: Data, Conditional Rendering &amp; PropTypes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/w2023/modules/react/week10/10.2/#components-from-data" class="sidebar-link">Components From Data</a></li><li class="sidebar-sub-header"><a href="/w2023/modules/react/week10/10.2/#components-from-state" class="sidebar-link">Components from State</a></li><li class="sidebar-sub-header"><a href="/w2023/modules/react/week10/10.2/#conditional-rendering" class="sidebar-link">Conditional Rendering</a></li><li class="sidebar-sub-header"><a href="/w2023/modules/react/week10/10.2/#proptypes" class="sidebar-link">PropTypes</a></li><li class="sidebar-sub-header"><a href="/w2023/modules/react/week10/10.2/#component-classes" class="sidebar-link">Component Classes</a></li><li class="sidebar-sub-header"><a href="/w2023/modules/react/week10/10.2/#what-to-do-this-week" class="sidebar-link">What to do this week</a></li></ul></li><li><a href="/w2023/modules/react/week11/11.1/" class="sidebar-link">11.1: Synthetic Events and Props</a></li><li><a href="/w2023/modules/react/week11/11.2/" class="sidebar-link">11.2: State and Hooks</a></li><li><a href="/w2023/modules/react/week12/12.1/" class="sidebar-link">12.1: React Routing</a></li><li><a href="/w2023/modules/react/week12/12.2/" class="sidebar-link">12.2: Axios, Fetch, &amp; Spinners</a></li><li><a href="/w2023/modules/react/week13/13.1/" class="sidebar-link">13.1: Context API and Storage</a></li><li><a href="/w2023/modules/react/week13/13.2/" class="sidebar-link">13.2: Styling and Themeing</a></li><li><a href="/w2023/modules/react/week14/14.1/" class="sidebar-link">14.1: Production Builds</a></li><li><a href="/w2023/modules/react/week14/14.2/" class="sidebar-link">14.2: React Project</a></li><li><a href="/w2023/modules/react/week15/" class="sidebar-link">15: React Project</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deliverables</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title blue">
    React
  </div> <h1>10.2 Conditional Rendering, PropTypes</h1></header> <h2 id="components-from-data"><a href="#components-from-data" class="header-anchor">#</a> Components From Data</h2> <p>We have already discussed the concept of state-driven UIs. So, let's look next at how we can generate content in React
from Data.</p> <p>Starting with the example from last week:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//this file is /src/components/List/index.js</span>
<span class="token keyword">import</span> ListItem <span class="token keyword">from</span> <span class="token string">'../ListItem/index.js'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">UserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Sheldon'</span><span class="token punctuation">,</span> <span class="token string">'Georgie'</span><span class="token punctuation">,</span> <span class="token string">'MeeMaw'</span><span class="token punctuation">,</span> <span class="token string">'Missy'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token string">&quot;Sheldon&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;Sheldon&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token string">&quot;Georgie&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;Georgie&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token string">&quot;MeeMaw&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;MeeMaw&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token string">&quot;Missy&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;Missy&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UserList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>In this example we are hard coding four <code>&lt;ListItem/&gt;</code> components because there are 4 items in the users array. Instead,
we should use an Array <code>map</code> method.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//this file is /src/components/List/index.js</span>
<span class="token keyword">import</span> ListItem <span class="token keyword">from</span> <span class="token string">'../ListItem/index.js'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">UserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Sheldon'</span><span class="token punctuation">,</span> <span class="token string">'Georgie'</span><span class="token punctuation">,</span> <span class="token string">'MeeMaw'</span><span class="token punctuation">,</span> <span class="token string">'Missy'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> items <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>ListItem name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span><span class="token punctuation">{</span>items<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UserList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Here, we are creating an array called items that will have four <code>&lt;ListItem&gt;</code> components, that each have name and key
props with the values from the <code>users</code> array.</p> <p>We could have put the <code>users.map()</code> inside the return statement, between the <code>&lt;ul&gt;&lt;/ul&gt;</code> JSX wrapped in <code>{}</code> as an
expression. That would be valid too.</p> <p>This gives us components that are built from data. However, we still have no way to easily update the components if the
data changes. That means we need <code>state</code>.</p> <div title="Arrays to components in React" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/eCbB2lJnRUc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="components-from-state"><a href="#components-from-state" class="header-anchor">#</a> Components from State</h2> <p>When you create a component from a function it will be, by default, <code>stateless</code>. That just means it has no data that is
being watched for updates and changes.</p> <p>To create a <code>state</code> value to be watched, inside your component function, we use a <strong>hook</strong> function called <code>useState</code>.
We call the function and pass it a default value for the state object. It returns an array that contains the current
value of the <code>state</code> object PLUS the method that you will call any time you want to change the <code>state</code> object.</p> <p>We call the <code>useState</code> function from inside our component function.</p> <p>The convention to use when naming the variable and update function is to use a descriptive word for the variable and the
same word with <code>set</code> in front of it as the function name.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//props are passed in from the parent component</span>
  <span class="token keyword">let</span> stateStuff <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//stateStuff is an Array that holds the state variable and the state update function</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> stateStuff<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> setName <span class="token operator">=</span> stateStuff<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>The above example will work. However, it has three lines of code that could be reduced to a single line if we use
destructuring.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//exact same result but in one line of code.</span>
  <span class="token comment">//passing the state value to a child component through props</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ChildComponent name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>For each object or value that you want to put into state you will call <code>useState</code>.</p> <p>If you have a child component that needs access to the value of the state variable then we use <code>props</code> to pass it down
from parent to child.</p> <div class="custom-block tip"><p class="custom-block-title">Where to Put State</p> <p>When creating your state variables you can put them in every component, you can put them all in one component.</p> <p>The key is to look at where the state data needs to be shared. Which components need the values? Then go to the first
parent that will encompass all the components using that data and put the call to <code>useState</code> there.</p></div> <p>We will be talking A LOT more about <code>state</code> and <code>hooks</code> in the coming weeks.</p> <h2 id="conditional-rendering"><a href="#conditional-rendering" class="header-anchor">#</a> Conditional Rendering</h2> <p>Conditional Rendering is how we can dynamically change whether components are rendered or if they are rendered with
different data. This was mentioned already last week but it important enough to go into more detail.</p> <p>Because we can embed expressions inside our JSX we can control the rendering process.</p> <p>A few key things to remember:</p> <ul><li>A function can have multiple <code>return</code> statements and only the first one reached will run.</li> <li>Curly braces are to denote expressions in JSX, so we need to avoid them in our returned expressions. For this reason,
logical short-circuiting, ternary operators, and nullish operators are best.</li> <li>If you do use an <code>if else</code> statement, then do it outside the return statement.</li></ul> <p>Here are a few samples:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SomeComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//short-circuiting based on a prop value</span>
  <span class="token comment">//only one thing to render.</span>
  <span class="token comment">//deciding if you want to render it.</span>
  <span class="token comment">//typically used inside the return</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>alive <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SomeComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//ternary operator to choose which component to render</span>
  <span class="token comment">//choosing between two components or expressions</span>
  <span class="token comment">//used inside or outside the return</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>alive <span class="token operator">?</span> <span class="token operator">&lt;</span>ComponentA <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token operator">&lt;</span>ComponentB <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SomeComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//nullish assignment and then using the result</span>
  <span class="token comment">//usually used before the return</span>
  <span class="token comment">//handles props that are null or undefined</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> props<span class="token punctuation">.</span>name <span class="token operator">??</span> <span class="token string">'Default name'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ComponentA name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="proptypes"><a href="#proptypes" class="header-anchor">#</a> PropTypes</h2> <p>When passing prop values from a parent component to a child component, it would make sense to do validation on the data
being passed.</p> <p>React has a module called <code>PropTypes</code> that let's us check for the existence of and datatype of anything being passed
through props.</p> <p>To use PropTypes we will need to import it. (The capitalization is important)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> PropTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Once you have it in your page then it can look at all the props as they are passed into your component.</p> <p>Outside your component function you can define an object that lists the possible <code>props</code> properties and defines their
data-types.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//again, this is case sensitive</span>
MyComponent<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">titles</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>array<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  <span class="token literal-property property">random</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  <span class="token literal-property property">getNewList</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">,</span> <span class="token comment">//yes, we can pass functions as props</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Again, NOTE the capitalization of the two different PropTypes. The one that is a property of the component starts with a
lowercase letter. All the prop values inside the schema object use the uppercase version that we imported.</p> <p><a href="https://reactjs.org/docs/typechecking-with-proptypes.html" target="_blank" rel="noopener noreferrer">Reference for PropTypes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>There are lots of different data-types and methods in the imported PropTypes object. You can also add <code>.isRequired</code>
after the data-type to say that the specific property is required.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">;</span>
PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">;</span>
PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">;</span>
PropTypes<span class="token punctuation">.</span>array<span class="token punctuation">;</span>
PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">;</span>
PropTypes<span class="token punctuation">.</span>element<span class="token punctuation">;</span> <span class="token comment">//a React component</span>
PropTypes<span class="token punctuation">.</span>symbol<span class="token punctuation">;</span>
PropTypes<span class="token punctuation">.</span>node<span class="token punctuation">;</span> <span class="token comment">//a DOM element</span>
PropTypes<span class="token punctuation">.</span>any<span class="token punctuation">.</span>isRequired<span class="token punctuation">;</span> <span class="token comment">//any datatype but required</span>
PropTypes<span class="token punctuation">.</span><span class="token function">arrayOf</span><span class="token punctuation">(</span>PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//all array items are numbers</span>
PropTypes<span class="token punctuation">.</span><span class="token function">oneOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//an enumeration</span>
PropTypes<span class="token punctuation">.</span><span class="token function">oneOfType</span><span class="token punctuation">(</span><span class="token punctuation">[</span>PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
PropTypes<span class="token punctuation">.</span><span class="token function">shape</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//define a schema for an object</span>
PropTypes<span class="token punctuation">.</span><span class="token function">exact</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
  <span class="token literal-property property">quantity</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>And with <code>PropTypes</code> we can also provide default values for the properties. This way, if a property is missing from
<code>props</code> the default value will be set before the validation is done.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Specifies the default values for props:</span>
MyComponent<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Ricky Bobby'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">Missing Props</p> <p>If a prop, which <code>isRequired</code>, is actually missing, the Rendering of your app will be stopped and you will see error
messages on the screen in the browser as well as in the browser extension - React Dev Tools.</p></div> <div title="Using PropTypes for validation" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/eH7Vxmjfvf0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="component-classes"><a href="#component-classes" class="header-anchor">#</a> Component Classes</h2> <p>Just as a reminder, from 2015 - 2019, React Components were built with the JavaScript Class syntax. They relied on
&quot;lifecycle&quot; events and methods to track when components were loaded, updated, or removed.</p> <p>This approach still works but is considered out of date and no longer a best practice.</p> <p>Avoid code samples that have:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//this is where we find the passed in props</span>
  <span class="token comment">//and create state variables</span>
<span class="token punctuation">}</span>
<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//runs once the component has rendered for the first time</span>
<span class="token punctuation">}</span>
<span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//change made to props or state triggers this</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//the render function is like the return value from our Component function</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="what-to-do-this-week"><a href="#what-to-do-this-week" class="header-anchor">#</a> What to do this week</h2> <div class="custom-block warning"><p class="custom-block-title">TODO Things to do before next week.</p> <ul><li>Read all the content from <code>Modules 10.1, 10.2, and 11.1</code>.</li> <li>Start watching the
<a href="https://www.youtube.com/watch?v=IkkzjbdIOBM&amp;list=PLyuRouwmQCjmMfs-HOsDGoaN6JiYrC6Ms" target="_blank" rel="noopener noreferrer">React in 2021 Video Tutorial Playlist<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/30/2022, 7:31:14 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/w2023/modules/react/week10/10.1/" class="prev">
        10.1: JSX &amp; Components
      </a></span> <span class="next"><a href="/w2023/modules/react/week11/11.1/">
        11.1: Synthetic Events and Props
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/w2023/assets/js/app.49733bfc.js" defer></script><script src="/w2023/assets/js/2.e00fc094.js" defer></script><script src="/w2023/assets/js/25.85a09377.js" defer></script><script src="/w2023/assets/js/9.b21c66c5.js" defer></script><script src="/w2023/assets/js/11.92cefe25.js" defer></script>
  </body>
</html>
