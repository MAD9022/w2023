(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{289:function(t,s,a){t.exports=a.p+"assets/img/safari-install.21040dbe.png"},290:function(t,s,a){t.exports=a.p+"assets/img/square-upload-ios.9541d65a.svg"},291:function(t,s,a){t.exports=a.p+"assets/img/safari-ios-a2hs-icon.bf76cf64.png"},292:function(t,s,a){t.exports=a.p+"assets/img/firefox-install.3020a216.png"},293:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABACAMAAADbJHVvAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABsUExURfn5+nh4eMbGx25ubh4eHvPz9Pf3+P////v7/P39/t3d3unp6kRERIGBgSgoKNbW1zMzMxS9A+Pj5IuLi+3u7c3Nzp+fn76+vqqqqpSUlLS0tVZWV2FhYgu7ADfGK8jtxdnx1wO5AFrQT5Xfjf8VDTcAAAyJSURBVHja7JkNl5ugEoZFRQYUNSL4ETfb3f3///G+g8lusp+xp7339hynbWoMEuBhZt4hSbLbbrvttttuu+2222677bbbbrvttttuu+2222677bbbbrvttttuu+32j5n6zPZl+RdNE9E97YgGZ521N/+mRtO+hP+e+xphu3v8tQht/sHqatZ/b2zEG3LfVX/ez7slz5c7qOuhzj/+yfOq+WvUtXx8eXl57PWO6Q/7+ZH99R7qIm/d/N5EnocfmdDvpX716/nw9PR0eH7cqf9Z5vDzqrrH14slr8wHGefr3P0Ufqnwg9nOTf86PR1Oz6fD02mn/keZg/fRp/xq1D3Q33eQ/gydEtfm1bzZ14vnp9PLr/7Xy+np1NO70PFXssndvdKnkUup/x/1QT/4uVcqvcPXb6HT/dB1h97zLNm4Ivrx8PBCWiv1cji83Lq6H0u6Hck9nRcFv8jiq89n230bUXoZaxgMzdjxY0sa7a28Kfrii0H8dZOd/C6fgzmz+5n6FXRSxbnTe6Ar00LxLVuhq5eH0y8d5dzp4flWwo/iDc8KUf64ltpMjUpoHiV94Ru2br5ZAe0rS9gzMs46+9iSsny4vqtDm75vRWYy/4VwQH1TfrUKR47taoXH1L+N8G/Qi27OKq/vD++2zttxa1rWL08rdEqen57pC+i6CylhkuP8Y3+j7YlKO6ovh9l+Cz2tbELSiZ4wa/EZ9PoGehKqj9BHUer/IfQ3P4/v/E++/gpdjWha3w890f3ohu0Df4VefAb9fBioTDYrrXox4S0peisUuEF8aH3VpYWsUAO2C9pQfJxeTxT5iiL0y2c3pQc/gYiDvpJjK1WEfm6l1boQaoWu3hI7JfJ1IOf+eM9p1g6X0avk9pW/TN/IjLW/SxM697d+pz43v9xAONQxJH4FXTXVxc/X7/c/qLk36O6Y1Vug/17Jtno68XHhZ9DNMDcFST9nwRszCJc2VPq+HOZUat4pzTynrP9638WlGgQCq3SBdDk35eiCUXJ2k+eeFbZl6Bygy6Hhu2/FhuKmpZlLPOYLP1ZtGMjXQsYeEK9ntKV+ThMN6H6ahtf0gYcQhJQPseW6XAL7qvESg8PoC1xhYZsmia8FAtEwD+Zq4TpMB51I77lXg2uiBm26ODFTprhU0g9ph8bS9NI0nHgv0N8JCNXAz2POoWJNc2pov43wb+G9K/026Lo0cmtQo4Khy54N0G+fH0WwVmRz0jmRCTuPAhZ0KoLD7QmxX44CLZzResgCcXfTVGDWwmuVtsuxbetqEHhtA1yvOdZtWx0BvauWJX5Gr+uEj44LliptRTG1dd0u0vMdtEqVCjXyBTX1QkrUS4W7ojhry6lO4ZoBPbftvN6bJkkULI9ezMj6AivaW1sq6uxYUGpF/OCyBqnAe4tdNWZe6c5OpS7meK8hMsLxbF0T3ITNi1UeBzbfY0NE6O9EKzOv84rDuS6PFWdI1WFC8HX9I3SttkHXc9UuzTZf14/Pp4fDabXD4fD8eP0tY+Z8b1xmit5nY9nLxrqyV2lm074LWUiAeuz7IXNSGU76mJ3AfzrYHmNu69B1rq6XphxaLIJc8tCZqY7Q8wxxoD7K89ZbcmcQA8APMR0edGx9xz0I0015VqiQv0HPq6H0S34+mNZTnio911nTp3hKs4oSyPoUssn0jcsaDHhQuslwRR5YgdHIbsouerkRoZNeTFKVzpU6cLsU8+Xp9mgthrLEHkAjEwIajWMjpRl8sXp60d9A1+znZ+iKoasosgEd1OlH9b4Nuiq5ZBNEm/z8+enhcHhYDRe3pfqI6Ws1Z6mOOR1fYSek8xTXpKLnBMRRlYyhp/XnJD3YknRvR1q1t1KygvcqbXOvUtQWShVZhH4scXlsu1UPgCZyOCJ39HRS8lj1fCS1FNwDFu7a08Ffq6bN1gAfoctja3DTY3+gt9lCxhGPjVSTjUkpAqkZoQpVBWRKMzZ83pUhQLAVk8BY1IDJ4ubsEbKI0hHjwTMGM59Q0MrJduhtnjpAT3myTVrqCF3elozKxnO4KsohzIP75sqKz+Ym9SN0vQ16wyXbsdgS4HV/YtSHV3s4/KJ36h2rMWCNM0ROqDQO3uw42DAzVglO7ksIu+IiZ93Im5Xz+kV7V5g2YjDITHlQZ/XeVUBGtNTr3lczOzJkzBk68WJd1HtRYUGuoEf1rmVWraVFhN7UGcsrybuI9xzLjRjUUQe4PpmsLNw4u75wDildySZNxyxNxgnioBOugWGaGBEymON9T6r06cD7xmTITCSDwx5Tw2QidNYBacfQqej7m5wOAb74I6AnI/JB1drJjRLQF798eXT2255OMkNYCXpbzXF6OMNe/xw2QGfXkAMSX/Dn9Iptyt5VhEm+Qi/YT1forp6/gj7G2lvZu6FTYVvzBj2tLQ+JstYQy7gr6AEBacg6Ixr8LQUPwTv+wTpLMdDJzUasxjNUHW7z6mNilnN5hE6fQS9Tc4F+m9NlU0qGHg/LOKrnrena/JhAciV/2NORylz21ZHId57+cOXqD9ugo9Tp/WgRQc+DD1YSUmoaT6I2QZ+3Qhe30EWEvuAmTS6e6Z2hT5bzcjpb2ds5FV4hhyPZS8xCFzAotclHK6Pux2SIJzd3fT/fB/1WvRNHdUCnIYSpaqcQ5gKefiyUvuNETvm23VSybf5R/Dc8PblAT0JmkgaOpXqHpMh1OnXRkWZ++wn0kXMa6ffQFdf1Md19B53jvzKv0FkiQT2oM3TTcl5TfQUp0IkhLlpA+o5DlsjIwY2KUNTZntR4TvZrMyqFI8Xn0HGCLrCrF85KtBm+gB7V4hreoeP6j79VM3RojFXIrTn9u8R7ffYum+b+Y1i0kj1tK9nu93QWcsQrCMhQttBX0MBSsphTwN+popSxSNexSKfPoJuW1Vl3vIGuk67nkoZ/WiyXN+htqa6hz7nF2o15FHIWg8ANoOjO0As+m+XPHenURnVITE/pmKqTOcu4iIQEB7mRP5B41efwBEWPL+fjBtRsEKi9Kngfq3L6HPogtZY+lRchJz+HflWybYD++oPSXdBVY5eppL/j6aWwY6OlE6jM0kxMw8zJD5d2HlC8FVjQUTNuzuvxLEqvJ+dX0CnkR2erWLK1F+jKVP9p31qUE4WhqIDBRAhkCY/waLed/v8/7rkELVoL6urMbueecQqNEJN7csl9MWCt1tvU2jQD6U0WQcjBFp1WYw+CSE/SLGojQ/Z/sDVDG2Qw10Vg4FePLtu+N7qOsiGBVvvNBqRrh7HpEnPIcSA9Br3kogXO2XEP96qOWWE+tiC/BM9XrGmsFesc3PPqQHo7I901+T6k6I532cR5RuJIuixvIf2OfLoqqU5Dq/s1/eVc0ztbkEGmaQ+DxUbOLuRDPizkYUNMNQ5brXUH1irdUUwGMx11gjan3hLp0UD+k0srsvBSk9q230PdNZEeQDSk9Bv/FagM6Tb8aD6YXuSHHgolq8GYvu6DjbJ9R+eNgjFHvVLXFCdGBxT8zQMfq8Ce3rQ6aHPK15Wtiykk75WismR92u4Q3klqTKIuSJ0TjNLZvYrJQu0wdVXYjkh3taCF7EaXLW+acI8OxT65lFE8kr6Jm26MyK2Qvom2ps7PYeHjqce7bAdNnzE/J93PZppTOWb8REHBmUYmhTcZpaAzOV6lHOiG3kz5kDFThjumvyR0lZCUcBrPWn0qVUGAKsjynf9K4t94fpUSBX6IGgQOhY89ivI4PmwT6FvRSp3CijDk4iSZiPVziKdYkCjQLsRnEqikhsOo6CBliW3HD3V2K82SDLnpkR5fzuB+kr7xYZM10mUHO99Q4HL+ybaTSbdAutf0myoMoOnvL3O8v77J5YIBORlyn4n24xlEvJhjPr36tLl2YqdCbPry2yvnDZe68eEhP4iD9f5dqEpeUQ0hvwt2j9b7olhBujl5XOcrpAudfa2GhfavZ8bDIQ2KGy25j9dfJ/hYLz6gTX63wOgdZbVyE2RDq415QM3vgWfZBvtnVP6opF4jXcpom+lqBnAaLcVKlaijITpD0FxRHKHKIla3Svvt9xxv1/xM3laPlqYUXdT3unpkEryri2fk1GXZ5Ot6YcbH9RFT1m3hjt29r7jI26vHpIKHCody+lylpbF4fC2S2pG/+9C19IxhXl2KdfbyQmbckmRl0tr2K6wTm38GT6lEklL+nNctpKzIrTmizhfnJos+vYSo5DdQ/ifWz57TKxsNzM9LKGOW5A+GugjWcwaDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWAwGIy/xx+Dn/3TAjQ4qgAAAABJRU5ErkJggg=="},294:function(t,s,a){t.exports=a.p+"assets/img/chrome-a2hs-banner.f81e8479.png"},347:function(t,s,a){"use strict";a.r(s);var e=a(10),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("PageHeader"),t._v(" "),s("h2",{attrs:{id:"lighthouse-audits-for-pwa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lighthouse-audits-for-pwa"}},[t._v("#")]),t._v(" Lighthouse Audits for PWA")]),t._v(" "),s("p",[t._v("Lighthouse is an Audit tool built into the Chrome Web Dev tools which let's you know if your website meets all the requirements for being a Progressive Web App.")]),t._v(" "),s("p",[t._v("Open the Chrome Dev tools and look for the "),s("code",[t._v("Lighthouse")]),t._v(" tab (previously 'Audit'). It can run a number of tests. However, the category we want is the "),s("code",[t._v("Progressive Web App")]),t._v(" one. Only select that\ncheckbox and then click the "),s("strong",[t._v("Generate Report")]),t._v(" button.")]),t._v(" "),s("p",[t._v("It will take a minute or two to run the audit.")]),t._v(" "),s("p",[t._v("The results are split into three groups.")]),t._v(" "),s("ol",[s("li",[t._v("Fast and Reliable")]),t._v(" "),s("li",[t._v("Installable")]),t._v(" "),s("li",[t._v("PWA Optimized")])]),t._v(" "),s("p",[t._v("We want green checkmarks || circles for everything!")]),t._v(" "),s("p",[t._v("Just like Service Workers, PWAs need "),s("code",[t._v("https")]),t._v(" to work but they are allowed to run on "),s("code",[t._v("localhost")]),t._v(" or "),s("code",[t._v("127.0.0.1")]),t._v(" without it.")]),t._v(" "),s("h2",{attrs:{id:"waituntil-skipwaiting-claim"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#waituntil-skipwaiting-claim"}},[t._v("#")]),t._v(" WaitUntil, SkipWaiting, Claim")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("install")]),t._v(", "),s("code",[t._v("activate")]),t._v(", "),s("code",[t._v("fetch")]),t._v(", and "),s("code",[t._v("message")]),t._v(" events are all "),s("code",[t._v("ExtendableEvents")]),t._v(". That means we can use the "),s("code",[t._v("ev.waitUntil()")]),t._v(" method to delay the completion of our event listener function until\nafter a Promise has resolved.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ev"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("waitUntil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//function that runs and does something that could take some time")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//when we are done we call:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//which will pass our result back to the waitUntil method")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// as a resolved Promise object.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("YouTube",{attrs:{title:"WaitUntil, SkipWaiting, Claim",url:"https://www.youtube.com/embed/nhkpOK3NfW0"}}),t._v(" "),s("p",[t._v("The "),s("code",[t._v("self.skipWaiting()")]),t._v(" method tells the service worker that it does not need to wait to be activated. It should skip the "),s("code",[t._v("waiting")]),t._v(" phase and immediately start activating. This will trigger the\n"),s("code",[t._v("activate")]),t._v(" event listener function.")]),t._v(" "),s("p",[t._v("It is important to remember that the web page still will not be communicating with the new service worker. It still thinks that the old service worker is running.")]),t._v(" "),s("p",[t._v("This brings us to the "),s("code",[t._v("clients.claim()")]),t._v(" method, which, if run inside the "),s("code",[t._v("activate")]),t._v(" event listener function, will find all the windows and tabs that are currently running and tell them that the new\nservice worker is activated and should be referenced now.")]),t._v(" "),s("h2",{attrs:{id:"offline-first"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#offline-first"}},[t._v("#")]),t._v(" Offline First")]),t._v(" "),s("p",[t._v("The window object has an "),s("code",[t._v("online")]),t._v(" and "),s("code",[t._v("offline")]),t._v(" event that we can listen for.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//listen for on and off line events")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'online'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ev")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tell the service worker about the change to online")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'offline'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ev")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tell the service worker about the change to offline")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("The "),s("code",[t._v("online")]),t._v(" and "),s("code",[t._v("offline")]),t._v(' event is fairly dependable for telling us that a connection to the wi-fi network has been established or lost. However, it does NOT tell us about failures for the wi-fi\nnetwork to actually get online. It also does NOT tell us if our connection is really poor. A one-bar connection to a network is still considered "online".')]),t._v(" "),s("p",[t._v("The default value for this can be found in the "),s("code",[t._v("navigator")]),t._v(" object.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" isOnline "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onLine'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" navigator "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onLine"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("The example above, checks for existence of the "),s("code",[t._v("onLine")]),t._v(" property and then find it's Boolean value.")]),t._v(" "),s("YouTube",{attrs:{title:"online, offline, or wtf",url:"https://www.youtube.com/embed/45so6LA8wRY"}}),t._v(" "),s("h3",{attrs:{id:"more-accuracy-through-testing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#more-accuracy-through-testing"}},[t._v("#")]),t._v(" More Accuracy Through Testing.")]),t._v(" "),s("p",[t._v("We can make a fetch call from either the webpage or our Service Worker that uses the "),s("code",[t._v("HEAD")]),t._v(" method instead of "),s("code",[t._v("GET")]),t._v(" or "),s("code",[t._v("POST")]),t._v(", just to see if we get a response.")]),t._v(" "),s("p",[t._v("Use an endpoint that is guaranteed to be available, or use a test of your own API. Have a health check route that returns minimal data or accepts the "),s("code",[t._v("HEAD")]),t._v(" method. If you get a "),s("strong",[t._v("VALID")]),t._v(" response\nfrom the server then that can be used as proof of being online.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isConnected")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" req "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/alive'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HEAD'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ok"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'offline'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("You will have to edit the above code sample to use a proper URL to test.")]),t._v(" "),s("h2",{attrs:{id:"launching-native-app-alternative"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#launching-native-app-alternative"}},[t._v("#")]),t._v(" Launching Native App Alternative")]),t._v(" "),s("p",[t._v("If you have a true Native application and you want to have the user be prompted to install a platform specific native version as an alternative to your PWA then you can update the web manifest file to\nhave the mobile device prompt the user with their choices.")]),t._v(" "),s("p",[t._v("We have to add the following two settings in the web manifest file.")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prefer_related_applications"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"related_applications"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"platform"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"play"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://play.google.com/store/apps/details?id=com.example.app1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.app1"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"platform"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"itunes"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://itunes.apple.com/app/example-app1/id123456789"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[t._v("If there is no native alternative then omit the "),s("code",[t._v("prefer_related_applications")]),t._v(" setting or have it set to "),s("code",[t._v("false")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"determine-if-website-or-pwa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#determine-if-website-or-pwa"}},[t._v("#")]),t._v(" Determine if Website or PWA")]),t._v(" "),s("p",[t._v("We can actually determine whether our web app is running as a basic website that has a service worker or if it was launched as a PWA.")]),t._v(" "),s("p",[t._v("Use the following script to determine the load context and add any custom code based on those circumstances.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//check if the app was launched from installed version")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("standalone"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Launched: Installed (iOS)'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isStandalone "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("matchMedia")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'(display-mode: standalone)'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("matches"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Launched: Installed'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isStandalone "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('Launched: Browser Tab');")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isStandalone "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("YouTube",{attrs:{title:"PWA determine launch source",url:"https://www.youtube.com/embed/Fcc18-zLwTM"}}),t._v(" "),s("p",[t._v("There is also a way that we can listen for changes to the "),s("code",[t._v("display-mode")]),t._v(". We can add an event listener to the "),s("code",[t._v("window.matchMedia")]),t._v(" method.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("matchMedia")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'(display-mode: standalone)'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("evt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" displayMode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'browser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("matches"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    displayMode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'standalone'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Log display mode change to analytics")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DISPLAY_MODE_CHANGED'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" displayMode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h2",{attrs:{id:"enhanced-install-experiences"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enhanced-install-experiences"}},[t._v("#")]),t._v(" Enhanced Install Experiences")]),t._v(" "),s("p",[t._v("With a Chrome based browser we have access to that "),s("RouterLink",{attrs:{to:"/modules/web-components/week5/week10/#handling-install-events-in-chrome"}},[t._v("deferred install prompt event discussed last week")]),t._v(".")],1),t._v(" "),s("p",[t._v("When we feel that it is a good time to ask the user to install we used this code to prompt them:")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deferredPrompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deferredPrompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("prompt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deferredPrompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userChoice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("choiceResult")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("choiceResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outcome "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'accepted'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'User accepted the install prompt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'User dismissed the install prompt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("This will display the built-in install prompt.")]),t._v(" "),s("p",[t._v("However, other browsers have different mechanisms for allowing the user to add an app to the home screen called "),s("code",[t._v("A2HS")]),t._v(" (install it).")]),t._v(" "),s("p",[t._v("We can add our own UI elements for the user to click to initiate the install. Fine for Chrome but on the other browsers we need to display instructions on how to "),s("code",[t._v("Add to Home Screen")]),t._v(".")]),t._v(" "),s("p",[t._v("On a desktop browser you can expect to see a small icon in the location bar. Here is an example of the Safari A2HS button on Safari desktop.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(289),alt:"a2sh safari"}})]),t._v(" "),s("p",[t._v("Note the small square with the upwards pointing arrow, on the right side of the image.")]),t._v(" "),s("h4",{attrs:{id:"on-ios-safari"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#on-ios-safari"}},[t._v("#")]),t._v(" On iOS Safari")]),t._v(" "),s("p",[t._v("On Safari on iOS you will see a button in the menu that is similar to the Safari desktop one. "),s("img",{attrs:{width:"30",height:"30",src:a(290),alt:"safari share icon"}}),t._v(" Clicking this will\ngive the user Sharing options dialog which includes "),s("code",[t._v("Add to Home Screen")]),t._v(".")]),t._v(" "),s("p",[s("img",{attrs:{src:a(291),alt:"ios install button"}})]),t._v(" "),s("h4",{attrs:{id:"on-firefox-mobile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#on-firefox-mobile"}},[t._v("#")]),t._v(" On Firefox Mobile")]),t._v(" "),s("p",[t._v("On Firefox the user can open the browser menu like the one below, and find an item called either "),s("code",[t._v("install")]),t._v(" or "),s("code",[t._v("add to homescreen")]),t._v(".")]),t._v(" "),s("p",[s("img",{attrs:{src:a(292),alt:"firefox a2hs"}})]),t._v(" "),s("p",[t._v("Or in the location bar when on Firefox desktop:")]),t._v(" "),s("p",[s("img",{attrs:{src:a(293),alt:"firefox a2hs"}})]),t._v(" "),s("p",[t._v("For Firefox there may also be an Add to Home Icon in the mobile version. It looks like a small house with a plus sign. It will depend on which version of Firefox that your users are using.")]),t._v(" "),s("h4",{attrs:{id:"on-chrome-mobile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#on-chrome-mobile"}},[t._v("#")]),t._v(" On Chrome Mobile")]),t._v(" "),s("p",[t._v("Similar to the the Firefox mobile menu you will find a button and label in the menu called "),s("code",[t._v("Add to Home screen")]),t._v(".")]),t._v(" "),s("p",[t._v("For Chrome, remember that you will also automatically be prompted to install a PWA if all the installation requirements are met.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(294),alt:"Chrome banner"}})]),t._v(" "),s("p",[t._v("This is what the banner would look like if you were not controlling the process on Chrome with the "),s("code",[t._v("beforeinstallprompt")]),t._v(" event code.")]),t._v(" "),s("h3",{attrs:{id:"how-you-can-ask-users-to-install"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-you-can-ask-users-to-install"}},[t._v("#")]),t._v(" How you can Ask Users to Install")]),t._v(" "),s("p",[t._v("There are a number of ways that we can encourage a user to install.")]),t._v(" "),s("p",[t._v("Remember, asking them too early will drive most people to ignore the option from that point onward.")]),t._v(" "),s("ol",[s("li",[t._v("A simple install button on the page. Put the button in an obvious location. Be sure to add some explanatory text about what install means. You can put this button near the bottom of the page or in\na location that appears after they have already interacted with some content on your site.")]),t._v(" "),s("li",[t._v("An install button in the header of each page. Make it part of the navigation options.")]),t._v(" "),s("li",[t._v("If you have a slide out navigation menu, put it at the bottom of the menu.")]),t._v(" "),s("li",[t._v("A custom install banner. Have a look at the install banner that comes with chrome. Use this as a basis for creating your own styled banner that appears in any browser.")]),t._v(" "),s("li",[t._v("A dismissible Snackbar near the bottom of the page. Try not to interfere with any task that the user would be trying to accomplish. You want to be noticeable without being annoying. Remember to\nwait long enough before displaying.")]),t._v(" "),s("li",[t._v("If there is an ordering or checkout process in your app then having an install option here is an excellent choice. As they finish their order and you are thanking them and providing a tracking\nnumber, remind them that they can install your app and give them some reasons why they might want to.")])]),t._v(" "),s("p",[t._v("For all of these options you have the ability to style the button to match the style of the rest of your site.")]),t._v(" "),s("p",[t._v("For any of these install prompts you will need to have a screen where you outline to users, who will nearly always be less technically savvy than you, how to actually install the app.")]),t._v(" "),s("p",[t._v("Read more about encouraging users to install "),s("a",{attrs:{href:"https://web.dev/promote-install/",target:"_blank",rel:"noopener noreferrer"}},[t._v("on web.dev"),s("OutboundLink")],1),t._v(" and more about "),s("a",{attrs:{href:"https://web.dev/customize-install/",target:"_blank",rel:"noopener noreferrer"}},[t._v("building your own install ui"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Read more about the "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Developer_guide/Installing",target:"_blank",rel:"noopener noreferrer"}},[t._v("install process for users on different platforms"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"todo-this-week"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#todo-this-week"}},[t._v("#")]),t._v(" ToDo This Week")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("To Do this week")]),t._v(" "),s("ul",[s("li",[t._v("read all the content for modules 5.1 and 5.2")]),t._v(" "),s("li",[t._v("Complete and submit "),s("RouterLink",{attrs:{to:"/modules/hybrids/h2/"}},[t._v("Phase 2 of the Hybrid project")]),t._v(".")],1),t._v(" "),s("li",[t._v("Read through the details of the "),s("RouterLink",{attrs:{to:"/assignments/exer/"}},[t._v("Service Worker assignment")]),t._v(".")],1)])])],1)}),[],!1,null,null,null);s.default=n.exports}}]);